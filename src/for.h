#pragma once
#define PU_EXP(x) x
#define PU_CONCAT(x, y) PU_CONCAT_IMPL(x, y)
#define PU_CONCAT_IMPL(x, y) x##y

#define PU_FOR_NARG(...) PU_FOR_NARG_(__VA_ARGS__, PU_FOR_RSEQ_N())
#define PU_FOR_NARG_(...) PU_EXP(PU_FOR_ARG_N(__VA_ARGS__))

#define PU_FOR_ARG_N(_1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31, _32, _33, _34, _35, _36, _37, _38, _39, _40, _41, _42, _43, _44, _45, _46, _47, _48, _49, _50, _51, _52, _53, _54, _55, _56, _57, _58, _59, _60, _61, _62, _63, _64, _65, _66, _67, _68, _69, _70, _71, _72, _73, _74, _75, _76, _77, _78, _79, _80, _81, _82, _83, _84, _85, _86, _87, _88, _89, _90, _91, _92, _93, _94, _95, _96, _97, _98, _99, _100, _101, _102, _103, _104, _105, _106, _107, _108, _109, _110, _111, _112, _113, _114, _115, _116, _117, _118, _119, _120, _121, _122, _123, _124, _125, _126, _127, N, ...) N
#define PU_FOR_RSEQ_N() 127, 126, 125, 124, 123, 122, 121, 120, 119, 118, 117, 116, 115, 114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95, 94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0,

#define PU_FOR_1(f, N, p, x, ...) f(N, 0, p, x)
#define PU_FOR_2(f, N, p, x, ...) f(N, 1, p, x) PU_EXP(PU_FOR_1(f, N, p, __VA_ARGS__))
#define PU_FOR_3(f, N, p, x, ...) f(N, 2, p, x) PU_EXP(PU_FOR_2(f, N, p, __VA_ARGS__))
#define PU_FOR_4(f, N, p, x, ...) f(N, 3, p, x) PU_EXP(PU_FOR_3(f, N, p, __VA_ARGS__))
#define PU_FOR_5(f, N, p, x, ...) f(N, 4, p, x) PU_EXP(PU_FOR_4(f, N, p, __VA_ARGS__))
#define PU_FOR_6(f, N, p, x, ...) f(N, 5, p, x) PU_EXP(PU_FOR_5(f, N, p, __VA_ARGS__))
#define PU_FOR_7(f, N, p, x, ...) f(N, 6, p, x) PU_EXP(PU_FOR_6(f, N, p, __VA_ARGS__))
#define PU_FOR_8(f, N, p, x, ...) f(N, 7, p, x) PU_EXP(PU_FOR_7(f, N, p, __VA_ARGS__))
#define PU_FOR_9(f, N, p, x, ...) f(N, 8, p, x) PU_EXP(PU_FOR_8(f, N, p, __VA_ARGS__))
#define PU_FOR_10(f, N, p, x, ...) f(N, 9, p, x) PU_EXP(PU_FOR_9(f, N, p, __VA_ARGS__))
#define PU_FOR_11(f, N, p, x, ...) f(N, 10, p, x) PU_EXP(PU_FOR_10(f, N, p, __VA_ARGS__))
#define PU_FOR_12(f, N, p, x, ...) f(N, 11, p, x) PU_EXP(PU_FOR_11(f, N, p, __VA_ARGS__))
#define PU_FOR_13(f, N, p, x, ...) f(N, 12, p, x) PU_EXP(PU_FOR_12(f, N, p, __VA_ARGS__))
#define PU_FOR_14(f, N, p, x, ...) f(N, 13, p, x) PU_EXP(PU_FOR_13(f, N, p, __VA_ARGS__))
#define PU_FOR_15(f, N, p, x, ...) f(N, 14, p, x) PU_EXP(PU_FOR_14(f, N, p, __VA_ARGS__))
#define PU_FOR_16(f, N, p, x, ...) f(N, 15, p, x) PU_EXP(PU_FOR_15(f, N, p, __VA_ARGS__))
#define PU_FOR_17(f, N, p, x, ...) f(N, 16, p, x) PU_EXP(PU_FOR_16(f, N, p, __VA_ARGS__))
#define PU_FOR_18(f, N, p, x, ...) f(N, 17, p, x) PU_EXP(PU_FOR_17(f, N, p, __VA_ARGS__))
#define PU_FOR_19(f, N, p, x, ...) f(N, 18, p, x) PU_EXP(PU_FOR_18(f, N, p, __VA_ARGS__))
#define PU_FOR_20(f, N, p, x, ...) f(N, 19, p, x) PU_EXP(PU_FOR_19(f, N, p, __VA_ARGS__))
#define PU_FOR_21(f, N, p, x, ...) f(N, 20, p, x) PU_EXP(PU_FOR_20(f, N, p, __VA_ARGS__))
#define PU_FOR_22(f, N, p, x, ...) f(N, 21, p, x) PU_EXP(PU_FOR_21(f, N, p, __VA_ARGS__))
#define PU_FOR_23(f, N, p, x, ...) f(N, 22, p, x) PU_EXP(PU_FOR_22(f, N, p, __VA_ARGS__))
#define PU_FOR_24(f, N, p, x, ...) f(N, 23, p, x) PU_EXP(PU_FOR_23(f, N, p, __VA_ARGS__))
#define PU_FOR_25(f, N, p, x, ...) f(N, 24, p, x) PU_EXP(PU_FOR_24(f, N, p, __VA_ARGS__))
#define PU_FOR_26(f, N, p, x, ...) f(N, 25, p, x) PU_EXP(PU_FOR_25(f, N, p, __VA_ARGS__))
#define PU_FOR_27(f, N, p, x, ...) f(N, 26, p, x) PU_EXP(PU_FOR_26(f, N, p, __VA_ARGS__))
#define PU_FOR_28(f, N, p, x, ...) f(N, 27, p, x) PU_EXP(PU_FOR_27(f, N, p, __VA_ARGS__))
#define PU_FOR_29(f, N, p, x, ...) f(N, 28, p, x) PU_EXP(PU_FOR_28(f, N, p, __VA_ARGS__))
#define PU_FOR_30(f, N, p, x, ...) f(N, 29, p, x) PU_EXP(PU_FOR_29(f, N, p, __VA_ARGS__))
#define PU_FOR_31(f, N, p, x, ...) f(N, 30, p, x) PU_EXP(PU_FOR_30(f, N, p, __VA_ARGS__))
#define PU_FOR_32(f, N, p, x, ...) f(N, 31, p, x) PU_EXP(PU_FOR_31(f, N, p, __VA_ARGS__))
#define PU_FOR_33(f, N, p, x, ...) f(N, 32, p, x) PU_EXP(PU_FOR_32(f, N, p, __VA_ARGS__))
#define PU_FOR_34(f, N, p, x, ...) f(N, 33, p, x) PU_EXP(PU_FOR_33(f, N, p, __VA_ARGS__))
#define PU_FOR_35(f, N, p, x, ...) f(N, 34, p, x) PU_EXP(PU_FOR_34(f, N, p, __VA_ARGS__))
#define PU_FOR_36(f, N, p, x, ...) f(N, 35, p, x) PU_EXP(PU_FOR_35(f, N, p, __VA_ARGS__))
#define PU_FOR_37(f, N, p, x, ...) f(N, 36, p, x) PU_EXP(PU_FOR_36(f, N, p, __VA_ARGS__))
#define PU_FOR_38(f, N, p, x, ...) f(N, 37, p, x) PU_EXP(PU_FOR_37(f, N, p, __VA_ARGS__))
#define PU_FOR_39(f, N, p, x, ...) f(N, 38, p, x) PU_EXP(PU_FOR_38(f, N, p, __VA_ARGS__))
#define PU_FOR_40(f, N, p, x, ...) f(N, 39, p, x) PU_EXP(PU_FOR_39(f, N, p, __VA_ARGS__))
#define PU_FOR_41(f, N, p, x, ...) f(N, 40, p, x) PU_EXP(PU_FOR_40(f, N, p, __VA_ARGS__))
#define PU_FOR_42(f, N, p, x, ...) f(N, 41, p, x) PU_EXP(PU_FOR_41(f, N, p, __VA_ARGS__))
#define PU_FOR_43(f, N, p, x, ...) f(N, 42, p, x) PU_EXP(PU_FOR_42(f, N, p, __VA_ARGS__))
#define PU_FOR_44(f, N, p, x, ...) f(N, 43, p, x) PU_EXP(PU_FOR_43(f, N, p, __VA_ARGS__))
#define PU_FOR_45(f, N, p, x, ...) f(N, 44, p, x) PU_EXP(PU_FOR_44(f, N, p, __VA_ARGS__))
#define PU_FOR_46(f, N, p, x, ...) f(N, 45, p, x) PU_EXP(PU_FOR_45(f, N, p, __VA_ARGS__))
#define PU_FOR_47(f, N, p, x, ...) f(N, 46, p, x) PU_EXP(PU_FOR_46(f, N, p, __VA_ARGS__))
#define PU_FOR_48(f, N, p, x, ...) f(N, 47, p, x) PU_EXP(PU_FOR_47(f, N, p, __VA_ARGS__))
#define PU_FOR_49(f, N, p, x, ...) f(N, 48, p, x) PU_EXP(PU_FOR_48(f, N, p, __VA_ARGS__))
#define PU_FOR_50(f, N, p, x, ...) f(N, 49, p, x) PU_EXP(PU_FOR_49(f, N, p, __VA_ARGS__))
#define PU_FOR_51(f, N, p, x, ...) f(N, 50, p, x) PU_EXP(PU_FOR_50(f, N, p, __VA_ARGS__))
#define PU_FOR_52(f, N, p, x, ...) f(N, 51, p, x) PU_EXP(PU_FOR_51(f, N, p, __VA_ARGS__))
#define PU_FOR_53(f, N, p, x, ...) f(N, 52, p, x) PU_EXP(PU_FOR_52(f, N, p, __VA_ARGS__))
#define PU_FOR_54(f, N, p, x, ...) f(N, 53, p, x) PU_EXP(PU_FOR_53(f, N, p, __VA_ARGS__))
#define PU_FOR_55(f, N, p, x, ...) f(N, 54, p, x) PU_EXP(PU_FOR_54(f, N, p, __VA_ARGS__))
#define PU_FOR_56(f, N, p, x, ...) f(N, 55, p, x) PU_EXP(PU_FOR_55(f, N, p, __VA_ARGS__))
#define PU_FOR_57(f, N, p, x, ...) f(N, 56, p, x) PU_EXP(PU_FOR_56(f, N, p, __VA_ARGS__))
#define PU_FOR_58(f, N, p, x, ...) f(N, 57, p, x) PU_EXP(PU_FOR_57(f, N, p, __VA_ARGS__))
#define PU_FOR_59(f, N, p, x, ...) f(N, 58, p, x) PU_EXP(PU_FOR_58(f, N, p, __VA_ARGS__))
#define PU_FOR_60(f, N, p, x, ...) f(N, 59, p, x) PU_EXP(PU_FOR_59(f, N, p, __VA_ARGS__))
#define PU_FOR_61(f, N, p, x, ...) f(N, 60, p, x) PU_EXP(PU_FOR_60(f, N, p, __VA_ARGS__))
#define PU_FOR_62(f, N, p, x, ...) f(N, 61, p, x) PU_EXP(PU_FOR_61(f, N, p, __VA_ARGS__))
#define PU_FOR_63(f, N, p, x, ...) f(N, 62, p, x) PU_EXP(PU_FOR_62(f, N, p, __VA_ARGS__))
#define PU_FOR_64(f, N, p, x, ...) f(N, 63, p, x) PU_EXP(PU_FOR_63(f, N, p, __VA_ARGS__))
#define PU_FOR_65(f, N, p, x, ...) f(N, 64, p, x) PU_EXP(PU_FOR_64(f, N, p, __VA_ARGS__))
#define PU_FOR_66(f, N, p, x, ...) f(N, 65, p, x) PU_EXP(PU_FOR_65(f, N, p, __VA_ARGS__))
#define PU_FOR_67(f, N, p, x, ...) f(N, 66, p, x) PU_EXP(PU_FOR_66(f, N, p, __VA_ARGS__))
#define PU_FOR_68(f, N, p, x, ...) f(N, 67, p, x) PU_EXP(PU_FOR_67(f, N, p, __VA_ARGS__))
#define PU_FOR_69(f, N, p, x, ...) f(N, 68, p, x) PU_EXP(PU_FOR_68(f, N, p, __VA_ARGS__))
#define PU_FOR_70(f, N, p, x, ...) f(N, 69, p, x) PU_EXP(PU_FOR_69(f, N, p, __VA_ARGS__))
#define PU_FOR_71(f, N, p, x, ...) f(N, 70, p, x) PU_EXP(PU_FOR_70(f, N, p, __VA_ARGS__))
#define PU_FOR_72(f, N, p, x, ...) f(N, 71, p, x) PU_EXP(PU_FOR_71(f, N, p, __VA_ARGS__))
#define PU_FOR_73(f, N, p, x, ...) f(N, 72, p, x) PU_EXP(PU_FOR_72(f, N, p, __VA_ARGS__))
#define PU_FOR_74(f, N, p, x, ...) f(N, 73, p, x) PU_EXP(PU_FOR_73(f, N, p, __VA_ARGS__))
#define PU_FOR_75(f, N, p, x, ...) f(N, 74, p, x) PU_EXP(PU_FOR_74(f, N, p, __VA_ARGS__))
#define PU_FOR_76(f, N, p, x, ...) f(N, 75, p, x) PU_EXP(PU_FOR_75(f, N, p, __VA_ARGS__))
#define PU_FOR_77(f, N, p, x, ...) f(N, 76, p, x) PU_EXP(PU_FOR_76(f, N, p, __VA_ARGS__))
#define PU_FOR_78(f, N, p, x, ...) f(N, 77, p, x) PU_EXP(PU_FOR_77(f, N, p, __VA_ARGS__))
#define PU_FOR_79(f, N, p, x, ...) f(N, 78, p, x) PU_EXP(PU_FOR_78(f, N, p, __VA_ARGS__))
#define PU_FOR_80(f, N, p, x, ...) f(N, 79, p, x) PU_EXP(PU_FOR_79(f, N, p, __VA_ARGS__))
#define PU_FOR_81(f, N, p, x, ...) f(N, 80, p, x) PU_EXP(PU_FOR_80(f, N, p, __VA_ARGS__))
#define PU_FOR_82(f, N, p, x, ...) f(N, 81, p, x) PU_EXP(PU_FOR_81(f, N, p, __VA_ARGS__))
#define PU_FOR_83(f, N, p, x, ...) f(N, 82, p, x) PU_EXP(PU_FOR_82(f, N, p, __VA_ARGS__))
#define PU_FOR_84(f, N, p, x, ...) f(N, 83, p, x) PU_EXP(PU_FOR_83(f, N, p, __VA_ARGS__))
#define PU_FOR_85(f, N, p, x, ...) f(N, 84, p, x) PU_EXP(PU_FOR_84(f, N, p, __VA_ARGS__))
#define PU_FOR_86(f, N, p, x, ...) f(N, 85, p, x) PU_EXP(PU_FOR_85(f, N, p, __VA_ARGS__))
#define PU_FOR_87(f, N, p, x, ...) f(N, 86, p, x) PU_EXP(PU_FOR_86(f, N, p, __VA_ARGS__))
#define PU_FOR_88(f, N, p, x, ...) f(N, 87, p, x) PU_EXP(PU_FOR_87(f, N, p, __VA_ARGS__))
#define PU_FOR_89(f, N, p, x, ...) f(N, 88, p, x) PU_EXP(PU_FOR_88(f, N, p, __VA_ARGS__))
#define PU_FOR_90(f, N, p, x, ...) f(N, 89, p, x) PU_EXP(PU_FOR_89(f, N, p, __VA_ARGS__))
#define PU_FOR_91(f, N, p, x, ...) f(N, 90, p, x) PU_EXP(PU_FOR_90(f, N, p, __VA_ARGS__))
#define PU_FOR_92(f, N, p, x, ...) f(N, 91, p, x) PU_EXP(PU_FOR_91(f, N, p, __VA_ARGS__))
#define PU_FOR_93(f, N, p, x, ...) f(N, 92, p, x) PU_EXP(PU_FOR_92(f, N, p, __VA_ARGS__))
#define PU_FOR_94(f, N, p, x, ...) f(N, 93, p, x) PU_EXP(PU_FOR_93(f, N, p, __VA_ARGS__))
#define PU_FOR_95(f, N, p, x, ...) f(N, 94, p, x) PU_EXP(PU_FOR_94(f, N, p, __VA_ARGS__))
#define PU_FOR_96(f, N, p, x, ...) f(N, 95, p, x) PU_EXP(PU_FOR_95(f, N, p, __VA_ARGS__))
#define PU_FOR_97(f, N, p, x, ...) f(N, 96, p, x) PU_EXP(PU_FOR_96(f, N, p, __VA_ARGS__))
#define PU_FOR_98(f, N, p, x, ...) f(N, 97, p, x) PU_EXP(PU_FOR_97(f, N, p, __VA_ARGS__))
#define PU_FOR_99(f, N, p, x, ...) f(N, 98, p, x) PU_EXP(PU_FOR_98(f, N, p, __VA_ARGS__))
#define PU_FOR_100(f, N, p, x, ...) f(N, 99, p, x) PU_EXP(PU_FOR_99(f, N, p, __VA_ARGS__))
#define PU_FOR_101(f, N, p, x, ...) f(N, 100, p, x) PU_EXP(PU_FOR_100(f, N, p, __VA_ARGS__))
#define PU_FOR_102(f, N, p, x, ...) f(N, 101, p, x) PU_EXP(PU_FOR_101(f, N, p, __VA_ARGS__))
#define PU_FOR_103(f, N, p, x, ...) f(N, 102, p, x) PU_EXP(PU_FOR_102(f, N, p, __VA_ARGS__))
#define PU_FOR_104(f, N, p, x, ...) f(N, 103, p, x) PU_EXP(PU_FOR_103(f, N, p, __VA_ARGS__))
#define PU_FOR_105(f, N, p, x, ...) f(N, 104, p, x) PU_EXP(PU_FOR_104(f, N, p, __VA_ARGS__))
#define PU_FOR_106(f, N, p, x, ...) f(N, 105, p, x) PU_EXP(PU_FOR_105(f, N, p, __VA_ARGS__))
#define PU_FOR_107(f, N, p, x, ...) f(N, 106, p, x) PU_EXP(PU_FOR_106(f, N, p, __VA_ARGS__))
#define PU_FOR_108(f, N, p, x, ...) f(N, 107, p, x) PU_EXP(PU_FOR_107(f, N, p, __VA_ARGS__))
#define PU_FOR_109(f, N, p, x, ...) f(N, 108, p, x) PU_EXP(PU_FOR_108(f, N, p, __VA_ARGS__))
#define PU_FOR_110(f, N, p, x, ...) f(N, 109, p, x) PU_EXP(PU_FOR_109(f, N, p, __VA_ARGS__))
#define PU_FOR_111(f, N, p, x, ...) f(N, 110, p, x) PU_EXP(PU_FOR_110(f, N, p, __VA_ARGS__))
#define PU_FOR_112(f, N, p, x, ...) f(N, 111, p, x) PU_EXP(PU_FOR_111(f, N, p, __VA_ARGS__))
#define PU_FOR_113(f, N, p, x, ...) f(N, 112, p, x) PU_EXP(PU_FOR_112(f, N, p, __VA_ARGS__))
#define PU_FOR_114(f, N, p, x, ...) f(N, 113, p, x) PU_EXP(PU_FOR_113(f, N, p, __VA_ARGS__))
#define PU_FOR_115(f, N, p, x, ...) f(N, 114, p, x) PU_EXP(PU_FOR_114(f, N, p, __VA_ARGS__))
#define PU_FOR_116(f, N, p, x, ...) f(N, 115, p, x) PU_EXP(PU_FOR_115(f, N, p, __VA_ARGS__))
#define PU_FOR_117(f, N, p, x, ...) f(N, 116, p, x) PU_EXP(PU_FOR_116(f, N, p, __VA_ARGS__))
#define PU_FOR_118(f, N, p, x, ...) f(N, 117, p, x) PU_EXP(PU_FOR_117(f, N, p, __VA_ARGS__))
#define PU_FOR_119(f, N, p, x, ...) f(N, 118, p, x) PU_EXP(PU_FOR_118(f, N, p, __VA_ARGS__))
#define PU_FOR_120(f, N, p, x, ...) f(N, 119, p, x) PU_EXP(PU_FOR_119(f, N, p, __VA_ARGS__))
#define PU_FOR_121(f, N, p, x, ...) f(N, 120, p, x) PU_EXP(PU_FOR_120(f, N, p, __VA_ARGS__))
#define PU_FOR_122(f, N, p, x, ...) f(N, 121, p, x) PU_EXP(PU_FOR_121(f, N, p, __VA_ARGS__))
#define PU_FOR_123(f, N, p, x, ...) f(N, 122, p, x) PU_EXP(PU_FOR_122(f, N, p, __VA_ARGS__))
#define PU_FOR_124(f, N, p, x, ...) f(N, 123, p, x) PU_EXP(PU_FOR_123(f, N, p, __VA_ARGS__))
#define PU_FOR_125(f, N, p, x, ...) f(N, 124, p, x) PU_EXP(PU_FOR_124(f, N, p, __VA_ARGS__))
#define PU_FOR_126(f, N, p, x, ...) f(N, 125, p, x) PU_EXP(PU_FOR_125(f, N, p, __VA_ARGS__))
#define PU_FOR_127(f, N, p, x, ...) f(N, 126, p, x) PU_EXP(PU_FOR_126(f, N, p, __VA_ARGS__))
#define PU_FOR_128(f, N, p, x, ...) f(N, 127, p, x) PU_EXP(PU_FOR_127(f, N, p, __VA_ARGS__))

#define PU_FOR_(N, f, p, ...) PU_EXP(PU_CONCAT(PU_FOR_, N)(f, N, p, __VA_ARGS__))
#define PU_FOR(f, p, ...) PU_FOR_(PU_FOR_NARG(__VA_ARGS__), f, p, __VA_ARGS__)